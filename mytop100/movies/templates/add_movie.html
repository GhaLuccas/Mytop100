{% extends 'home.html' %}

{% block title %}Adicionar Filme{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center">Adicionar Filme à Sua Lista</h1>
    
    <!-- Formulário de Busca -->
    <form method="GET" action="" class="form-inline mb-4">
        <div class="form-group mr-2">
            <input type="text" name="search_title" class="form-control" placeholder="Pesquisar por título" value="{{ request.GET.search_title }}">
        </div>
        <div class="form-group mr-2">
            <input type="text" name="search_director" class="form-control" placeholder="Pesquisar por diretor" value="{{ request.GET.search_director }}">
        </div>
        <button type="submit" class="btn btn-secondary">Filtrar</button>
    </form>
    
    <!-- Formulário de Seleção de Filme -->
    <form method="POST" class="bg-light p-4 rounded shadow-sm">
        {% csrf_token %}
        <div class="form-group">
            <label for="movie">Escolha um filme:</label>
            <select name="movie_id" class="form-control" required>
                <option value="">Selecione um filme</option>
                {% for movie in movies %}
                    <option value="{{ movie.id }}">{{ movie.title }} - {{ movie.director }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Adicionar</button>
        <div id="responseMessage" class="mt-3"></div>
    </form>
    <a href="{% url 'movies:list' %}" class="btn btn-secondary mt-3">Voltar à lista de filmes</a>
</div>
{% endblock %}
